{# quickstats.html #}

    <aside id="quickstats">
      <h2>Quick Stats</h2>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Node</th>
            <th scope="col">OS / Arch</th>
            {% if "install" in stages %}
            <th scope="col">Install</th>
            {% endif %}
            {% if "buildsrc" in stages %}
            <th scope="col">Build</th>
            {% endif %}
            {% if "checksrc" in stages %}
            <th scope="col">Check</th>
            {% endif %}
            {% if "buildbin" in stages %}
            <th scope="col">Build Bin</th>
            {% endif %}
          </tr>
        </thead>
        <tbody>
          {% for hostname, attributes in quickstats.items() %}
          <tr>
            <th scope="col">
              <a href="{{ base_url }}{{ hostname }}">{{ hostname }}</a>
            </th>
            <td>{{ attributes['os_arch'] }}</th>
            {% for stage in stages %}
            <td>
              <span class="badge {{ stage }} timeout">{{ attributes[stage][0] }}</span>
              <span class="badge {{ stage }} error">{{ attributes[stage][1] }}</span>
              {% if stage == "checksrc" %}
              <span class="badge {{ stage }} warning">{{ attributes[stage][2] }}</span>
              {% endif %}
              <span class="badge {{ stage }} ok">{{ attributes[stage][3] }}</span>
            </td>
            {% endfor %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </aside>
